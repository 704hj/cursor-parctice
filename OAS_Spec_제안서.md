# OAS (OpenAPI Specification) 도입 제안서

> **"CJ에서 검증된 API 개발 방법론을 우리 회사에도 도입하자"**

---

## 📋 목차
1. [현재 문제점](#1-현재-문제점)
2. [OAS Spec이란?](#2-oas-spec이란)
3. [CJ 도입 사례](#3-cj-도입-사례)
4. [기대 효과](#4-기대-효과)
5. [도입 방안](#5-도입-방안)
6. [투자 대비 효과](#6-투자-대비-효과)

---

## 1. 현재 문제점

### 😰 우리 팀의 현실
```
❌ 백엔드 API 완성될 때까지 프론트 대기
❌ API 문서가 코드와 불일치
❌ 타입 정의 수동 작성 (시간 소요 + 오류 발생)
❌ API 변경 시 수동으로 모든 곳 수정
❌ 백엔드-프론트 소통 비용 높음
```

### 💸 비용으로 환산하면
```
매 스프린트마다:
- 백엔드 API 대기 시간: 2일
- API 변경 대응: 1일
- 타입 수동 작성: 0.5일
- 버그 수정: 1일

→ 총 4.5일 손실 (약 20만원/일 × 4.5일 = 90만원)
→ 연간 약 2,340만원 손실
```

---

## 2. OAS Spec이란?

### 🎯 OpenAPI Specification
**API의 설계도이자 계약서**

```yaml
# openapi.yaml
openapi: 3.0.3
info:
  title: News API
  version: 1.0.0
paths:
  /news:
    get:
      summary: 뉴스 목록 조회
      responses:
        "200":
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id: { type: string }
                        title: { type: string }
```

### 💡 핵심 개념
- **단일 진실 원천 (Single Source of Truth)**
- **API 우선 설계 (API-First Design)**
- **자동화 기반 개발**

---

## 3. CJ 도입 사례

### 🏢 CJ의 접근 방식

```
┌─────────────────────────────────────────┐
│   CJ OAS Spec 워크플로우                │
└─────────────────────────────────────────┘

1️⃣ 백엔드 코드 작성 (어노테이션 포함)
   @RestController
   @GetMapping("/api/news")
   @Operation(summary = "뉴스 조회")
   
2️⃣ OAS 생성 "룰" 실행
   프로젝트 구조 자동 분석
   
3️⃣ operation.yaml 자동 생성 ✨
   (CJ 내부에서는 operation.yaml이라고 부름)
   
4️⃣ 프론트엔드 활용
   - 타입 자동 생성
   - API 문서 자동 업데이트
   - Mock 서버 생성
```

**참고:** CJ에서는 "operation.yaml"이라는 이름을 사용하지만, 
업계 표준 이름은 "openapi.yaml"입니다. 내용과 형식은 동일합니다.

### ✨ CJ가 얻은 효과

**윰시의 실제 경험담:**
> "나 써보니까 진짜 개편해서  
> 원래는 서버한테 문서 만들어달라고 하잖아  
> 근데 레포 권한 있으면 걍  
> 프엔도 플젝 읽고 문서 만들어서  
> 바로바로 확인할 수 있구  
> 좋더라궁"

**핵심:**
- ✅ 서버에게 문서 요청 불필요
- ✅ 프론트가 직접 문서 확인
- ✅ 실시간 API 스펙 동기화

---

## 4. 기대 효과

### 📈 정량적 효과

#### A. 개발 시간 단축
```
기존 방식: 5주
┌─────────────────────────────────┐
│ Week 1-2: 백엔드 API 개발       │ (프론트 대기)
│ Week 3-4: 프론트 개발           │
│ Week 5: 통합 & 버그 수정        │
└─────────────────────────────────┘

OAS 방식: 3주 (40% 단축!)
┌─────────────────────────────────┐
│ Week 1: API 설계 + yaml 작성    │
│ Week 2: 백엔드 + 프론트 병렬 개발│ ⚡
│ Week 3: 통합 (환경변수만 변경)  │
└─────────────────────────────────┘
```

#### B. 인건비 절감
```
현재: 스프린트당 90만원 손실
OAS 도입 후: 스프린트당 20만원 손실 (Mock 서버 관리 등)

→ 스프린트당 70만원 절감
→ 연간 26회 × 70만원 = 1,820만원 절감
```

#### C. 버그 감소
```
타입 안전성 확보
→ API 관련 버그 70% 감소
→ 디버깅 시간 60% 감소
```

### 💎 정성적 효과

```
✅ 백엔드-프론트 소통 비용 감소
   슬랙/이메일: "이 API 어떻게 쓰나요?" 불필요

✅ 신규 개발자 온보딩 단축
   3일 → 1일 (API 문서 자동화)

✅ API 변경 추적 용이
   Git으로 yaml 변경 이력 관리

✅ 테스트 자동화 기반 마련
   Mock 서버로 E2E 테스트

✅ 개발자 만족도 향상
   지루한 타이핑 작업 제거
```

---

## 5. 도입 방안

### Phase 1: 파일럿 (4주)

**목표:** 1개 팀, 1개 기능으로 검증

```
Week 1: 준비
- OAS 교육 (백엔드 + 프론트)
- 도구 선정 (백엔드: Swagger/Springdoc, 프론트: openapi-typescript)
- 샘플 프로젝트 구축

Week 2-3: 실행
- 실제 기능 개발 (예: 사용자 관리 API)
- openapi.yaml 기반 개발
- 이슈 및 개선점 수집

Week 4: 평가
- 개발 시간 측정
- 팀원 피드백 수집
- 효과 분석 보고서 작성
```

**필요 리소스:**
- 백엔드 개발자 1명 (20%)
- 프론트 개발자 1명 (20%)
- 시간: 각자 주당 8시간

### Phase 2: 확대 (8주)

```
Week 1-2: 준비
- 파일럿 결과 공유
- 전사 가이드라인 작성
- CI/CD 자동화 구축

Week 3-6: 전체 팀 적용
- 모든 신규 API: OAS 필수
- 기존 API: 점진적 전환

Week 7-8: 정착
- 베스트 프랙티스 문서화
- 트러블슈팅 가이드
```

### Phase 3: 고도화 (지속)

```
✅ API 버전 관리 체계 구축
✅ 자동 테스트 통합
✅ API Gateway 연동
✅ 외부 파트너 API 공유
```

---

## 6. 투자 대비 효과

### 💰 초기 투자 (Phase 1)

```
교육 비용: 50만원
  - 외부 강사 또는 내부 스터디

도구/라이브러리: 무료
  - Swagger/Springdoc (오픈소스)
  - openapi-typescript (오픈소스)
  - Prism (오픈소스)

인건비: 200만원
  - 개발자 2명 × 4주 × 20%

─────────────────
총 투자: 250만원
```

### 📊 투자 회수 기간

```
연간 절감액: 1,820만원
초기 투자: 250만원

ROI = (1,820 - 250) / 250 × 100 = 628%

회수 기간: 약 2주 (!)
```

### 🚀 3년 누적 효과

```
Year 1: 1,820만원 - 250만원 = 1,570만원 이익
Year 2: 1,820만원 이익
Year 3: 1,820만원 이익

─────────────────────────
3년 누적: 5,210만원 이익
```

---

## 7. 리스크 관리

### ⚠️ 예상 리스크

| 리스크 | 대응 방안 |
|--------|-----------|
| 학습 곡선 | Phase 1 파일럿으로 점진적 도입 |
| 기존 코드 마이그레이션 | 신규 API만 필수, 기존은 선택 |
| 백엔드 프레임워크 미지원 | Contract-First 방식으로 대체 |
| 팀원 저항 | 성공 사례 공유 및 교육 강화 |

---

## 8. 성공 지표 (KPI)

### 📊 측정 항목

```
✅ 개발 속도
   - 스프린트별 API 개발 소요 시간

✅ 버그 발생률
   - API 관련 버그 건수

✅ 소통 비용
   - API 관련 질문 슬랙 메시지 수

✅ 개발자 만족도
   - 분기별 설문조사 (1-5점)

✅ 신규 개발자 온보딩
   - 온보딩 소요 시간
```

---

## 9. 결론

### 🎯 왜 지금 도입해야 하는가?

```
1. CJ 등 대기업에서 검증된 방법론
2. 초기 투자 대비 압도적인 ROI (628%)
3. 2주만에 투자 회수
4. 오픈소스 기반 (비용 부담 없음)
5. 팀 생산성 및 만족도 향상
```

### 💪 Action Items

```
☑️ 경영진 승인
☑️ 파일럿 팀 선정
☑️ 킥오프 미팅 (다음 주)
☑️ 4주 후 결과 공유
```

---

## 10. 참고 자료

### 📚 CJ 사례 인용

**출처: 윰시 (CJ 근무 경험자)**

주요 인사이트:
- "OAS spec을 짜주는 룰을 만들어서 그걸로 플젝 읽고 OAS spec이 떨어지게 함"
- "프엔도 플젝 읽고 문서 만들어서 바로바로 확인할 수 있어서 좋음"
- "나 써보니까 진짜 개편함"

### 🌐 추가 레퍼런스

- Stripe API (OAS 기반)
- Netflix API Platform
- Shopify API Design
- 우아한형제들 기술블로그

### 🛠️ 기술 스택

**백엔드:**
- Spring Boot: Springdoc OpenAPI
- FastAPI: 자동 OAS 생성
- NestJS: @nestjs/swagger

**프론트엔드:**
- openapi-typescript: 타입 생성
- openapi-fetch: API 클라이언트
- Prism: Mock 서버

**문서/테스트:**
- Swagger UI: API 문서
- Redoc: 정적 문서 생성
- Stoplight: API 디자인 도구

---

## 📞 문의

**제안자:** [이름]  
**이메일:** [이메일]  
**슬랙:** [슬랙 ID]

---

> **"API 개발, 이제는 자동화의 시대입니다"**  
> **"CJ가 증명했고, 우리도 할 수 있습니다"**

---

### 📎 첨부
- 데모 프로젝트 (GitHub 링크)
- 비교 영상 (기존 방식 vs OAS 방식)
- 타 회사 도입 사례 PDF

